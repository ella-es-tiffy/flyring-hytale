{
    "Type": "Generic",
    "StartState": "Idle",
    "Appearance": "Fox",
    "Invulnerable": true,
    "MaxHealth": 100,
    "DefaultNPCAttitude": "Ignore",
    "DefaultPlayerAttitude": "Neutral",
    "BusyStates": [
        "$Interaction"
    ],
    "MotionControllerList": [
        {
            "Type": "Walk",
            "MaxWalkSpeed": 9.0,
            "Acceleration": 10.0,
            "MaxRotationSpeed": 360.0,
            "JumpHeight": 1.2
        }
    ],
    "Instructions": [
        {
            "Instructions": [
                {
                    "$Comment": "Idle state",
                    "Sensor": {
                        "Type": "State",
                        "State": "Idle"
                    },
                    "Instructions": [
                        {
                            "$Comment": "Priority 1: Pick up nearby dropped items",
                            "Sensor": {
                                "Type": "DroppedItem",
                                "Range": 15.0,
                                "LockOnTarget": true
                            },
                            "Actions": [
                                {
                                    "Type": "PickUpItem",
                                    "Range": 1.5
                                }
                            ],
                            "BodyMotion": {
                                "Type": "Seek",
                                "SlowDownDistance": 2.0,
                                "StopDistance": 0.8,
                                "RelativeSpeed": 1.5
                            }
                        },
                        {
                            "$Comment": "Priority 2: Follow owner, stay close",
                            "Sensor": {
                                "Type": "Player",
                                "Range": 40.0,
                                "LockOnTarget": true
                            },
                            "BodyMotion": {
                                "Type": "MaintainDistance",
                                "DesiredDistanceRange": [
                                    2.0,
                                    4.0
                                ],
                                "MoveThreshold": 1.5,
                                "RelativeForwardsSpeed": 1.2,
                                "RelativeBackwardsSpeed": 0.3
                            }
                        }
                    ]
                },
                {
                    "$Comment": "Interaction state - look at player while inventory is open",
                    "Sensor": {
                        "Type": "State",
                        "State": "$Interaction"
                    },
                    "Instructions": [
                        {
                            "Continue": true,
                            "Sensor": {
                                "Type": "Target",
                                "Range": 10
                            },
                            "HeadMotion": {
                                "Type": "Watch"
                            }
                        },
                        {
                            "Sensor": {
                                "Type": "Any"
                            },
                            "Actions": [
                                {
                                    "Type": "Timeout",
                                    "Delay": [1, 1],
                                    "Action": {
                                        "Type": "Sequence",
                                        "Actions": [
                                            {
                                                "Type": "ReleaseTarget"
                                            },
                                            {
                                                "Type": "State",
                                                "State": "Idle"
                                            }
                                        ]
                                    }
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ],
    "InteractionInstruction": {
        "Instructions": [
            {
                "Sensor": {
                    "Type": "Not",
                    "Sensor": {
                        "Type": "CanInteract",
                        "ViewSector": 180
                    }
                },
                "Actions": [
                    {
                        "Type": "SetInteractable",
                        "Interactable": false
                    }
                ]
            },
            {
                "Continue": true,
                "Sensor": {
                    "Type": "Any"
                },
                "Actions": [
                    {
                        "Type": "SetInteractable",
                        "Interactable": true,
                        "Hint": "Open Inventory"
                    }
                ]
            },
            {
                "Sensor": {
                    "Type": "HasInteracted"
                },
                "Instructions": [
                    {
                        "Sensor": {
                            "Type": "Not",
                            "Sensor": {
                                "Type": "State",
                                "State": "$Interaction"
                            }
                        },
                        "Actions": [
                            {
                                "Type": "LockOnInteractionTarget"
                            },
                            {
                                "Type": "OpenLootInventory"
                            },
                            {
                                "Type": "State",
                                "State": "$Interaction"
                            }
                        ]
                    }
                ]
            }
        ]
    },
    "NameTranslationKey": "Loot Buddy"
}
